<!DOCTYPE html> 
<html lang="en"> 
  <head> 
    <title>JSUnzip integration test.</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
 
    <script type="text/javascript" src="../../js-unzip.js"></script>
    <script type="text/javascript" src="base64examples.js"></script>
  </head> 
  <body> 
    <p>This test runs automatically from data stored inside </p>
    
    <br>
    Output:
    <br/>
    <br/>
    <div id="output"> </div>
        
   	<script>
   	
    	
    	 var output = function (msg) {
        	document.getElementById("output")
           		 .appendChild(document.createTextNode(msg + "\n"));
           		  document.getElementById("output")
           		 .appendChild(document.createElement("br"));
    	}
    	
    	for (var i = 0; i < base64examples.length; i++) {
    		output("Testing example: " + i);
    		
    		var zip = new JSUnzip(window.atob(base64examples[i]));
        	output("Is Zip file: " + zip.isZipFile());

        	output("Reading Zip file..");
        	try {
            	zip.readEntries();
        	} catch(e) {
            	log("Error when reading Zip file: " + (typeof(e) === "object" ? e.message : e));
        	}
        	for (var j = 0; j < zip.entries.length; j++) {
        		output(zip.entries[j].fileName);
        	}
        	output("");
    		    	
    	}
    	

   		
   		
        
   	</script>
   	
   	
   	
  </body> 
</html> 
